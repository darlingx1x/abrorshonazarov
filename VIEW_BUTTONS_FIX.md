# Исправление кнопок переключения режимов просмотра

## Проблема
Кнопки "Разделенный", "Редактор", "Превью" не функционировали - не переключали режимы отображения панелей.

## Исправления

### 1. Исправлена инициализация UIManager
- **Проблема**: UIManager создавался, но не инициализировался полностью
- **Решение**: Добавлены вызовы `initializeLayout()` и `setupEventListeners()` при создании UIManager

### 2. Исправлен метод setViewMode в основном классе
- **Проблема**: Метод только обновлял состояние, но не вызывал UIManager для изменения CSS
- **Решение**: Добавлен вызов `this.uiManager.setViewMode(mode)` для фактического изменения отображения

### 3. Добавлена отладочная информация
- Добавлены console.log для отслеживания работы кнопок
- Добавлена проверка наличия UIManager и контейнера

## Как проверить исправления

### 1. Основное приложение
1. Откройте `http://localhost:8000`
2. Откройте консоль браузера (F12)
3. Нажимайте на кнопки "Разделенный", "Редактор", "Превью"
4. Проверьте:
   - В консоли должны появляться сообщения о нажатии кнопок
   - Панели должны скрываться/показываться соответственно
   - Активная кнопка должна подсвечиваться

### 2. Тестовая страница
1. Откройте `http://localhost:8000/view-test.html`
2. Это упрощенная версия для тестирования только кнопок
3. Показывает отладочную информацию прямо на странице

## Ожидаемое поведение

### Режим "Разделенный" (по умолчанию)
- Показывает и редактор, и превью рядом
- CSS класс: `view-split`

### Режим "Редактор"
- Показывает только панель редактора
- Скрывает панель превью
- CSS класс: `view-editor`

### Режим "Превью"
- Показывает только панель превью
- Скрывает панель редактора  
- CSS класс: `view-preview`

## Отладочная информация

При нажатии на кнопки в консоли должны появляться сообщения:
```
View button clicked: split
MarkdownEditor.setViewMode called with: split
Calling UIManager.setViewMode with: split
UIManager.setViewMode called with: split
Container found: <div class="editor-container">
Added class: view-split Container classes: editor-container view-split
Updating view buttons, active mode: split
Button split: active
Button editor: inactive  
Button preview: inactive
View mode set to: split
```

## Если кнопки все еще не работают

1. Проверьте консоль на ошибки JavaScript
2. Убедитесь, что все CSS классы загружены
3. Проверьте, что элементы с классом `.view-btn` существуют в DOM
4. Убедитесь, что у кнопок есть атрибуты `data-view`

## Файлы изменены
- `app.js` - основные исправления
- `view-test.html` - тестовая страница (создана)
- `VIEW_BUTTONS_FIX.md` - эта инструкция (создана)